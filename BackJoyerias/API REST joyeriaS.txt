API REST joyeriaS.

	Definir quÃ© endpoints existen, quÃ© hacen, quÃ© reciben y quÃ© devuelven:
	Programar rÃ¡pido y sin improvisar
	Mantener el control total del backend
	Escalar sin romper nada
	Integrar pagos y frontend fÃ¡cilmente

Principios de la API

âœ” RESTful
âœ” JSON
âœ” Stateless
âœ” Versionada
âœ” Segura

URL base
/api/v1

Estructura de carpetas
src/
 â”œâ”€â”€ routes/
 â”œâ”€â”€ controllers/
 â”œâ”€â”€ services/
 â”œâ”€â”€ models/
 â”œâ”€â”€ middlewares/
 â”œâ”€â”€ config/
 â”œâ”€â”€ utils/
 â””â”€â”€ app.js
ğŸ‘‰ Regla de oro:

routes â†’ define rutas
controllers â†’ reciben request / devuelven response
services â†’ lÃ³gica de negocio
models â†’ acceso a BD
middlewares â†’ auth, validaciones

MÃ³dulos de la API

ğŸ” 1. AUTENTICACIÃ“N
POST â€“ Registro
POST /api/v1/auth/register


Body:

{
  "nombre": "Juan PÃ©rez",
  "email": "juan@email.com",
  "password": "123456",
  "telefono": "3001234567"
}

POST â€“ Login
POST /api/v1/auth/login


Respuesta:

{
  "token": "jwt_token",
  "user": {
    "id": 1,
    "nombre": "Juan PÃ©rez",
    "rol": "CLIENTE"
  }
}

ğŸ‘¤ 2. USUARIOS
GET â€“ Perfil del usuario
GET /api/v1/users/profile


ğŸ”’ Requiere JWT

ğŸ’ 3. PRODUCTOS
GET â€“ Listar productos
GET /api/v1/products


Query params:

?category=1
?precio_min=100000
?precio_max=500000

GET â€“ Detalle del producto
GET /api/v1/products/{id}

POST â€“ Crear producto (ADMIN)
POST /api/v1/products


ğŸ”’ Admin

PUT â€“ Actualizar producto (ADMIN)
PUT /api/v1/products/{id}

DELETE â€“ Desactivar producto (ADMIN)
DELETE /api/v1/products/{id}


âš ï¸ EliminaciÃ³n lÃ³gica

ğŸ–¼ï¸ 4. IMÃGENES DE PRODUCTO
POST â€“ Subir imagen
POST /api/v1/products/{id}/images

DELETE â€“ Eliminar imagen
DELETE /api/v1/images/{id}

ğŸ›’ 5. CARRITO
GET â€“ Ver carrito activo
GET /api/v1/cart

POST â€“ Agregar producto
POST /api/v1/cart/items


Body:

{
  "product_id": 5,
  "cantidad": 2
}

PUT â€“ Actualizar cantidad
PUT /api/v1/cart/items/{id}

DELETE â€“ Eliminar producto
DELETE /api/v1/cart/items/{id}

ğŸ§¾ 6. PEDIDOS
POST â€“ Crear pedido
POST /api/v1/orders


ğŸ‘‰ Convierte el carrito en pedido

GET â€“ Historial de pedidos
GET /api/v1/orders

GET â€“ Detalle de pedido
GET /api/v1/orders/{id}

ğŸ’³ 7. PAGOS
POST â€“ Realizar pago
POST /api/v1/payments


Body:

{
  "order_id": 10,
  "metodo_pago": "tarjeta"
}

GET â€“ Estado del pago
GET /api/v1/payments/{id}

ğŸ§® 8. FACTURAS
GET â€“ Ver factura
GET /api/v1/invoices/{order_id}

ğŸ› ï¸ 9. ADMINISTRACIÃ“N
GET â€“ Pedidos (ADMIN)
GET /api/v1/admin/orders

PUT â€“ Cambiar estado pedido
PUT /api/v1/admin/orders/{id}/status

Flujo real de compra (API)
Login
 â†“
GET /products
 â†“
POST /cart/items
 â†“
POST /orders
 â†“
POST /payments
 â†“
GET /invoices/{order_id}